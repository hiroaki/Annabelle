<%
  # Render flash messages as li elements to the flash-storage container
  # This will be parsed by JavaScript and rendered with proper styling
%>
<% if flash.any? %>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const storage = document.getElementById('flash-storage');
      if (storage) {
        const ul = storage.querySelector('ul');
        if (ul) {
          <% flash.each do |type, message| %>
            const li = document.createElement('li');
            li.dataset.type = '<%= type %>';
            li.textContent = '<%= j(message) %>';
            ul.appendChild(li);
          <% end %>
        }
      }
    });
  </script>
<% end %>
